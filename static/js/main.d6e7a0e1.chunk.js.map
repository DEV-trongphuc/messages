{"version":3,"sources":["firebase.js","contexts/AuthContext.js","components/Chats.js","components/Login.js","components/App.js","index.js"],"names":["auth","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","AuthContext","React","createContext","AuthProvider","children","useState","loading","setLoading","user","setUser","history","useHistory","useEffect","onAuthStateChanged","push","value","Provider","Chats","useContext","window","onbeforeunload","alert","handleLogout","a","signOut","getFile","url","fetch","response","blob","data","File","type","axios","get","headers","email","uid","then","catch","formdata","FormData","append","photoURL","avatar","name","post","error","console","log","className","src","onClick","height","projectID","userName","userSecret","Login","id","signInWithRedirect","GoogleAuthProvider","GoogleOutlined","FacebookAuthProvider","FacebookOutlined","App","addEventListener","style","fontFamily","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d6e7a0e1.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nexport const auth = firebase\r\n     .initializeApp({\r\n          apiKey: \"AIzaSyCwgYOVi8NpQAhztQ41OkZI8J9X9rBX3nU\",\r\n          authDomain: \"rememberchat-c48d8.firebaseapp.com\",\r\n          projectId: \"rememberchat-c48d8\",\r\n          storageBucket: \"rememberchat-c48d8.appspot.com\",\r\n          messagingSenderId: \"1096949919022\",\r\n          appId: \"1:1096949919022:web:5b2d21bc08833bc8c4debf\",\r\n     })\r\n     .auth();\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { auth } from \"../firebase\";\r\nconst AuthContext = React.createContext();\r\nexport const useAuth = () => useContext(AuthContext);\r\nexport const AuthProvider = ({ children }) => {\r\n     const [loading, setLoading] = useState(true);\r\n     const [user, setUser] = useState(null);\r\n     const history = useHistory();\r\n     useEffect(() => {\r\n          auth.onAuthStateChanged((user) => {\r\n               setUser(user);\r\n               setLoading(false);\r\n               if (user) history.push(\"/chats\");\r\n          });\r\n     }, [user, history]);\r\n     const value = { user };\r\n     return (\r\n          <AuthContext.Provider value={value}>\r\n               {!loading && children}\r\n          </AuthContext.Provider>\r\n     );\r\n};\r\n","import React from \"react\";\r\nimport { useState, useRef, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { ChatEngine } from \"react-chat-engine\";\r\nimport { auth } from \"../firebase\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\nimport axios from \"axios\";\r\nconst Chats = () => {\r\n     const { user } = useAuth();\r\n     const history = useHistory();\r\n     const [loading, setLoading] = useState(true);\r\n window.onbeforeunload = () => {\r\n      alert()\r\n }\r\n     const handleLogout = async () => {\r\n          await auth.signOut();\r\n          history.push(\"/messages\");\r\n     };\r\n     const getFile = async (url) => {\r\n          const response = await fetch(url);\r\n          const data = await response.blob();\r\n          return new File([data], \"userPhoto.jpg\", { type: \"image/jpeg\" });\r\n     };\r\n     useEffect(() => {\r\n          if (!user) {\r\n               history.push(\"/messages\");\r\n               return;\r\n          }\r\n          axios.get(\"https://api.chatengine.io/users/me\", {\r\n               headers: {\r\n                    \"project-id\": \"9424d664-2c45-4775-99a3-a3e6f52cab7a\",\r\n                    \"user-name\": user.email,\r\n                    \"user-secret\": user.uid,\r\n               },\r\n          })\r\n               .then(() => {\r\n                    setLoading(false);\r\n               })\r\n               .catch(() => {\r\n                    let formdata = new FormData();\r\n                    formdata.append(\"email\", user.email);\r\n                    formdata.append(\"username\", user.email);\r\n                    formdata.append(\"secret\", user.uid);\r\n                    getFile(user.photoURL).then((avatar) => {\r\n                         formdata.append(\"avatar\", avatar, avatar.name);\r\n                         axios.post(\"https://api.chatengine.io/users\", formdata, {\r\n                              headers: {\r\n                                   \"private-key\":\r\n                                        \"eb3696f3-266e-417a-9924-856bbb523838\",\r\n                              },\r\n                         })\r\n                              .then(() => setLoading(false))\r\n                              .catch((error) => console.log(error));\r\n                    });\r\n               });\r\n     }, [user, history]);\r\n     if (!user || loading) return \"Loading..\";\r\n\r\n     return (\r\n          <div className=\"chats-page\">\r\n               <div className=\"nav-bar\">\r\n                    <img\r\n                         className=\"chat__logo\"\r\n                         src=\"https://raw.githubusercontent.com/Rememberlibrary/library/main/assets/img/%E2%80%94Pngtree%E2%80%94blue%20technology%20planet%20cartoon%20illustration_3979254.png\"\r\n                    />\r\n                    <div className=\"logo-tab\">Remember</div>\r\n                    <div onClick={() => handleLogout()} className=\"logout-tab\">\r\n                         Đăng xuất\r\n                    </div>\r\n               </div>\r\n               <ChatEngine\r\n                    height=\"calc(100vh - 66px)\"\r\n                    projectID=\"9424d664-2c45-4775-99a3-a3e6f52cab7a\"\r\n                    userName={user.email}\r\n                    userSecret={user.uid}\r\n               />\r\n          </div>\r\n     );\r\n};\r\nexport default Chats;\r\n","import React from \"react\";\r\nimport { FacebookOutlined, GoogleOutlined } from \"@ant-design/icons\";\r\nimport \"firebase/app\";\r\nimport { auth } from \"../firebase\";\r\nimport firebase from \"firebase/app\";\r\nconst Login = () => {\r\n     return (\r\n          <div id=\"login-page\">\r\n               <div id=\"login-card\">\r\n                    <h2 className=\"login__title\">\r\n                         Chào mừng bạn đến với REMEMBER MESSAGES\r\n                    </h2>\r\n                    <img\r\n                         className=\"login__logo\"\r\n                         src=\"https://raw.githubusercontent.com/Rememberlibrary/library/main/assets/img/%E2%80%94Pngtree%E2%80%94blue%20technology%20planet%20cartoon%20illustration_3979254.png\"\r\n                    />\r\n                    <div\r\n                         onClick={() =>\r\n                              auth.signInWithRedirect(\r\n                                   new firebase.auth.GoogleAuthProvider(),\r\n                              )\r\n                         }\r\n                         className=\"login-button google\"\r\n                    >\r\n                         <GoogleOutlined /> &nbsp; Sign in with Google\r\n                    </div>\r\n                    <br /> <br />\r\n                    <div\r\n                         onClick={() =>\r\n                              auth.signInWithRedirect(\r\n                                   new firebase.auth.FacebookAuthProvider(),\r\n                              )\r\n                         }\r\n                         className=\"login-button facebook\"\r\n                    >\r\n                         <FacebookOutlined /> &nbsp; Sign in with Facebook\r\n                    </div>\r\n               </div>\r\n          </div>\r\n     );\r\n};\r\nexport default Login;\r\n","import React from \"react\";\n\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport { AuthProvider } from \"../contexts/AuthContext\";\n\nimport Chats from \"./Chats\";\nimport Login from \"./Login.js\";\n\nfunction App() {\n     const onUnload = () => {\n          alert('')\n     }\n     window.addEventListener(\"beforeunload\", ()=>onUnload())\n     return (\n          <div style={{ fontFamily: \"Avenir\" }}>\n               <Router>\n                    <AuthProvider>\n                         <Switch>\n                              <Route path=\"/chats\" component={Chats} />\n                              <Route path=\"/messages\" component={Login} />\n                         </Switch>\n                    </AuthProvider>\n               </Router>\n          </div>\n     );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}